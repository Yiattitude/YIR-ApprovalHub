# 审批系统 - 项目概述

本文件提供审批系统（ApprovalHub）的总体认知，涵盖建设背景、业务目标、角色、能力范围、技术架构、目录结构与里程碑，帮助研发、测试与实施团队在进入细分文档前获得统一视角。

## 1. 项目定位

- **场景聚焦**：面向请假、报销、用章等高频内部审批场景，提供端到端的电子化体验。
- **方法论**：以岗位-权限模型为核心，通过标准化流程模板 + 可配置扩展，兼顾快速上线与后续演进。
- **交付形态**：前端工作台（React）、后端服务（Spring Boot）与 MySQL 数据库组成三层架构，RESTful API 贯穿全链路。

## 2. 建设目标

1. **透明可追溯**：任一审批单据的状态、节点、操作人、附件都能即时查询并导出。
2. **高效易扩展**：支持岗位指派、多级审批、会签/或签，后续可无缝接入动态表单与流程设计器。
3. **统一账号与安全**：账号注册、岗位分配、JWT 鉴权、操作日志与附件权限控制形成闭环。
4. **数据驱动**：提供员工、审批人、管理员多层仪表盘与统计报表，为人效分析与流程优化提供依据。

## 3. 核心角色

| 角色 | 主要职责 | 典型能力 |
| --- | --- | --- |
| 普通员工 | 发起申请、上传附件、撤回/重提、查看仪表盘 | 请假/报销表单、我的申请、个人统计 |
| 审批人（部门经理/领导） | 处理待办、查看上下文、填写意见、监控 SLA | 待办/已办列表、审批动作、审批人仪表盘 |
| 系统管理员 | 用户/岗位/部门/权限配置，维护模板与统计报表 | 用户与岗位管理、审批模板、全量数据查询、导出、审计 |
| 平台运维（可与管理员合并） | 参数调优、系统监控、备份策略 | 环境配置、日志巡检、通知集成 |

## 4. 功能全景

### 4.1 必做功能（MVP）

1. **身份与权限管理**：注册、登录、JWT 鉴权、岗位-权限绑定、部门/岗位树维护。
2. **员工工作台**：请假与报销表单、附件上传、我的申请、撤回和个人 KPI 统计。
3. **审批人工作台**：待办/已办列表、审批动作（同意/拒绝/转交/加签）、审批历史与仪表盘。
4. **流程与指派**：部门审批指派、多级节点配置、会签/或签、审批人选择器。
5. **系统管理中心**：用户、部门、岗位、权限、审批数据总览、批量导入导出。
6. **文件与附件管理**：统一上传、权限校验、预览与下载记录。
7. **统计与报表**：个人、审批人、管理员多层统计面板与 CSV/Excel 导出。

### 4.2 选做功能（增强版）

1. **动态表单配置**：拖拽式设计器、多字段属性、模板版本管理。
2. **动态流程设计**：BPMN 风格节点、条件分支、并行会签、版本回滚。
3. **报表排程**：按日/周/月定时生成报表并推送至邮箱或企业 IM。
4. **通知与集成**：站内信、邮件、Webhook，与第三方系统对接。

## 5. 技术架构

| 层级 | 技术/工具 | 说明 |
| --- | --- | --- |
| 前端 | React 18、TypeScript、Vite、Tailwind CSS、shadcn/ui、Zustand、React Router、Axios、TanStack Query、React Hook Form + Zod | 构建 SPA 工作台，提供多角色界面与附件上传、图表展示等能力。 |
| 后端 | Spring Boot 3.2.x、Spring Security、JWT、MyBatis Plus、Redis、Knife4j | 提供鉴权、流程指派、审批记录、统计报表 API，支持缓存与审计。 |
| 数据 | MySQL 8.0（核心业务库）、本地文件存储 upload/ 目录、可选对象存储扩展 | 存储审批主数据与附件。 |
| 工具链 | Maven、Git、VS Code、Postman/Apifox、Docker（可选） | 支撑开发、调试与部署。 |

系统通过 Nginx 或同类反向代理统一暴露 `/api`，前后端以 JWT + 角色模型保障安全。

## 6. 系统能力地图

- **业务层**：申请（请假/报销）→ 审批（多节点、会签/或签）→ 归档（统计与导出）。
- **配置层**：用户/部门/岗位/权限、审批模板、指标阈值、附件策略。
- **体验层**：仪表盘、待办提醒、审批历史时间轴、条件筛选、分页与导出。
- **安全层**：JWT、BCrypt、XSS/CSRF 防护、操作日志、附件签名下载。

## 7. 项目结构

```
审批系统-new/
├── README.md                      # 根级项目总览
├── docs/                          # 文档中心（概述、需求、数据库、前后端、API 等）
├── YIR-ApprovalHub/
│   ├── approval-backend/          # Spring Boot 后端源码、pom.xml、配置文件
│   ├── frontend/                  # React + Vite 前端源码、构建配置、静态资源
│   └── docs/                      # 选题与实现说明等补充文档
├── sql/                           # 建表与初始化脚本（01-create-tables.sql 等）
└── upload/                        # 开发期附件占位目录（生产可切换对象存储）
```

如需定位文件功能，可参考 [docs/04-后端开发文档.md](docs/04-后端开发文档.md) 与 [docs/05-前端开发文档.md](docs/05-前端开发文档.md) 中的逐文件说明。

## 8. 里程碑计划

1. **里程碑 M1（第 1-3 周）**：完成身份与权限、员工申请、基础审批流、管理员配置台，交付可运行的 MVP。
2. **里程碑 M2（第 4-5 周）**：补齐审批历史、附件管理、统计报表、仪表盘与权限细化，完成性能与安全加固。
3. **里程碑 M3（第 6-8 周，选做）**：实现动态表单/流程、会签/或签高级策略、报表排程与消息通知，打通对外集成能力。
4. **里程碑 M4（第 9 周）**：系统测试、回归与部署上线；完善运维与交付文档。

## 9. 文档导航

- [docs/02-需求分析.md](docs/02-需求分析.md)：角色需求、流程、用户故事与验收标准。
- [docs/03-数据库设计.md](docs/03-数据库设计.md)：ER 图、表结构、索引与初始化脚本。
- [docs/04-后端开发文档.md](docs/04-后端开发文档.md)：后端项目结构、模块职责、配置说明。
- [docs/05-前端开发文档.md](docs/05-前端开发文档.md)：前端项目结构、组件说明、运行方式。
- [docs/06-API接口文档.md](docs/06-API接口文档.md)：接口列表、请求示例与状态码。
- [docs/07-部署运维文档.md](docs/07-部署运维文档.md)：环境准备、部署步骤、备份策略。
- [docs/08-测试计划.md](docs/08-测试计划.md)：测试范围、场景、用例与质量门槛。

---

> **文档版本**：v1.1  
> **最后更新**：2026-01-20  
> **维护人**：项目管理组# 审批系统 - 项目概述

