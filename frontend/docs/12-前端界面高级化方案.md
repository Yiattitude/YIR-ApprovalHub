# 前端界面高级化方案（保持后端功能不变）

## 1. 设计目标
- **可读性**：让审批、任务、附件信息在第一眼就能被理解，降低表格堆叠带来的疲劳感。
- **专业感**：通过色彩、排版、留白、卡片化布局营造“企业级”氛围，避免目前的大量默认样式。
- **一致性**：全站统一字体、色板、阴影、圆角和边框规则；组件状态（悬停、禁用、加载）视觉一致。
- **可扩展性**：方案只改前端表现层，不触及 API/数据结构，后续可按模块渐进式落地。

## 2. 视觉与主题规范
1. **色彩体系（CSS 变量统一定义在 `globals.css`）**
   - 主色 `--brand-primary`: #2F4BFF （蓝紫色，突出按钮、链接、统计数字）
   - 辅色 `--brand-accent`: #F59E0B （警示/重点控件）
   - 中性色：背景 `#F7F9FC`、卡片 `#FFFFFF`、描边 `#E1E6EF`、文字 `#111322`/`#4B5565`/`#8B95A7`
   - 成功/警告/危险沿用当前含义，但改为柔和渐变/浅底色块，减少纯色块压迫感。
2. **字体与排版**
   - 引入 `"IBM Plex Sans", "Segoe UI", system` 字体栈，在 `body` 层统一设置。
   - 标题统一使用 1.25/1.5/1.875rem 尺寸，增加 `tracking-tight`。
   - 表格与描述性文本保持 14px，行高 1.6，保证密集信息可读。
3. **卡片与阴影**
   - 所有卡片使用 `border: 1px solid rgba(15, 23, 42, 0.07)`、`border-radius: 18px`、`box-shadow: 0 10px 40px rgba(15,23,42,0.08)`。
   - 列表/表格放入浅色卡片背景，替代深色分割线。
4. **动效**
   - 全局统一 180ms `cubic-bezier(0.4,0,0.2,1)`，用于按钮 hover、卡片浮起、对话框弹出。
   - Dashboard 模块引入渐进加载（淡入+上移 8px）。

## 3. 布局与结构优化
1. **全局框架 (`src/App.tsx`)**
   - 引入顶级 `ShellLayout`（左侧导航 + 顶部条 + 内容区）。
   - 顶部条包含搜索/通知/用户信息，背景半透明玻璃态，增强高级感。
2. **导航**
   - 左侧栏使用 `gradient background` + `active indicator`。
   - 图标统一使用 lucide 图标，配合文本，hover 采用亮度 1.2。
3. **内容区**
   - 默认背景 `linear-gradient(135deg, #EEF2FF 0%, #F8FBFF 40%, #FFFFFF 100%)`。
   - 页面标题区使用“标题 + 面包屑 + 快捷按钮 + 日期/统计 capsule”组合。

## 4. 核心页面改造建议
1. **登录/注册**
   - 左侧展示品牌海报（SVG 抽象图形 + 渐变），右侧为表单。
   - 使用分段控件切换登录/注册，表单域添加图标、浮动标签。
2. **仪表盘 (`Dashboard`, `RoleBasedDashboard`)**
   - 卡片化展示统计信息，使用 mini 图表（sparklines）/progress ring（可用 `recharts` 或 CSS）。
   - “待办/已办/申请概览”区块，卡片顶部使用浅色渐变，底部显示最近一条操作。
3. **审批队列页面（`TodoTasks`, `DoneTasks`, `AllApplications`）**
   - 表格顶部增加过滤 pills（今日、近7天、我的部门）。
   - 每行加左侧彩色条表示状态；右侧操作区域包含“预览”按钮与 `DropdownMenu`。
   - 列表空状态改为插画 + 引导文案。
4. **普通员工入口（`CreateLeave`, `CreateReimburse`, `MyApplications`）**
   - 表单使用双栏卡片布局 + 分步标题（基础信息 / 附件 / 审批人）。
   - `AttachmentUpload` 旁加提示卡展示示例文件或要求。
   - `MyApplications` 表格增加时间线式列表视图 Tab，用户可选择喜欢的视图。
5. **审批详情对话框 (`ApplicationDetailDialog`)**
   - 顶部展示申请人头像/姓名/岗位；背景用淡渐变。
   - `AttachmentActions` 区域改为“文件卡片”样式：图标 + 文件名 + 文件大小 + 操作按钮。
   - 历史记录改为垂直时间线，突出审批流转。

## 5. 基础设施调整（前端）
1. **全局样式**
   - 在 `src/styles/globals.css` 中集中定义 CSS 变量、渐变、阴影、响应式断点。
   - 使用 `:where()` 选择器批量重置表格、表单、Dialog 的默认 padding。
2. **UI 工具函数**
   - 新增 `usePageHeader`、`useGradientBackground` 等 hooks，封装重复逻辑。
3. **组件库增强**
   - 扩展 `Button` 增加 `ghost-tonal`、`soft` 等变体。
   - 为 `Card` 增加 `blur` 属性（配合 `backdrop-filter`）。
   - 为 `AttachmentUpload` 增加文件类型图标、成功/失败状态提示。

## 6. 实施步骤
1. **主题底座搭建**（1 天）
   - 完成 `globals.css`、Button/Card 变体、App Layout 改造。
2. **仪表盘 + 任务列表**（2 天）
   - 套用新卡片、统计组件、表格视觉；验证响应式。
3. **申请/审批流程页面**（2 天）
   - 表单/列表/对话框逐一升级。
4. **细节完善**（1 天）
   - 校对 hover/焦点状态、空状态插画、本地化文本对齐。
5. **回归验证**
   - `npm run build`、E2E 点检（登录、创建申请、审批、附件预览），确保仅前端变化。

## 7. 评估指标
- 用户操作路径减少（例如新增申请从 6 步降到 4 步）。
- Figma/Storybook 中形成可复用组件库，方便新页面复用。
- 样式覆盖率 ≥ 90% 的主要页面（登录、仪表盘、申请、审批、管理）。

## 8. 后续可选优化（不影响当前后端）
- 引入动画库如 `framer-motion` 为列表、对话框添加入场动效。
- 使用 `dayjs` + `relativeTime` 在列表中显示“3 分钟前”这样的人性化时间。
- 增加主题切换（深/浅模式），通过 CSS 变量即可实现。

---
该方案完全局限在前端表现层，保证 API、数据结构、后端逻辑无须调整，可在多个迭代中逐步实施。